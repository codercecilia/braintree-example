extends ../layout

block content
  .wrapper: .checkout.container: .content
    header
    form#payment-form(action="/checkouts", method="post")
      h1 Choose Membership Plan
      section
        select(name="selectedPlan")
          option(value="four_month_membership_id") $349/month - Four Month Membership
          option(value="six_month_membership_id") $324/month - Six Month Membership
          option(value="annual_membership_id") $299/month - Annual Membership
      h1 Your Information
      section
        label(for="firstName")
          span.input-label Name
          .input-wrapper.name-wrapper
          input#firstName(name="firstName" type="text" placeholder="Your First Name" required=true)
        label(for="lastName")
          span.input-label Name
          .input-wrapper.name-wrapper
          input#lastName(name="lastName" type="text" placeholder="Your Last Name")
        label(for="email")
          span.input-label Email
          .input-wrapper.name-wrapper
          input#email(name="email" type="email" placeholder="Your Email")
        label(for="phone")
          span.input-label Phone Number
          .input-wrapper.name-wrapper
          input#phone(name="phone" type="tel" min="10" placeholder="Your Phone Number")
      h1 Your Coderkid
      section
        label(for="childfirstname")
          span.input-label Coderkid First Name
          .input-wrapper.name-wrapper
          input#childfirstname(name="childfirstname" type="text" placeholder="Coderkid First Name")
        label(for="childlastname")
          span.input-label Coderkid Last Name
          .input-wrapper.name-wrapper
          input#childlastname(name="childlastname" type="text" placeholder="Coderkid Last Name")
        label(for="childage")
          span.input-label Age
          .input-wrapper.name-wrapper
          input#childage(name="childage" type="tel"  placeholder="Age")
      section
        wrapper-demo
        #dd.wrapper-dropdown-1(tabindex='1')
          span Gender
          ul.dropdown(tabindex='1')
            li
              a(href='#') Male
            li
              a(href='#') Female
        // select(name="initialcourse")
        //   option(value="Introduction to Scratch") Introduction to Scratch
        //   option(value="Introduction to Minecraft Mod in Java") Introduction to Minecraft Mod in Java
        //   option(value="Introduction to Mobile App Design") Introduction to Mobile App Design
      
      h1 Checkout 
      section
        .bt-drop-in-wrapper
          #bt-dropin

      button.button(type="submit")
        span Submit Payment
  script(src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js")
  script.
    (function DropDown(el) {
    	this.dd = el;
        this.placeholder = this.dd.children('span');
        this.opts = this.dd.find('ul.dropdown > li');
        this.val = '';
        this.index = -1;
        this.initEvents();
     }
        DropDown.prototype = {
        	initEvents: function() {
                var obj = this;

                obj.dd.on('click', function(event) {
                	$(this).toggleClass('active');
                	return false;
                });

                obj.opts.on('click', function() {
                	var opt = $(this);
                	obj.val = opt.text();
                	obj.index = opt.index();
                	obj.placeholder.text('Gender: ' + obj.val);
                });
            },
            getValue: function() {
            	return this.val;
            },
            getIndex: function() {
                return this.index;
            }
        }

        $(function() {

            var dd = new DropDown($('#dd'));

            $(document).click(function() {
                // all dropdowns
                $('.wrapper-dropdown-1').removeClass('active');
            });

        });

    )()
  script(src="https://js.braintreegateway.com/v2/braintree.js")
  script.
    (function () {
      var checkout = new Demo({
        formID: 'payment-form'
      });

      var token = "#{clientToken}";
      braintree.setup(token, "dropin", {
        container: "bt-dropin"
      });
    })()
